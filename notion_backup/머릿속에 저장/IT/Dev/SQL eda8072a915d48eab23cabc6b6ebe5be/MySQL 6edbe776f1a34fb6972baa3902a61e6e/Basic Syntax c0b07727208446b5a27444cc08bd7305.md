# Basic Syntax

---

### 재귀 쿼리

- WITH RECURSIVE 가상테이블명 AS (
    
    select 1 from 별명
    
    UNION ALL
    
    select 별명+1 FROM 가상테이블명 WHERE 별명<4
    
    )
    
    SELECT 1이라는 값을 초기 값으로, 이 결과를 가지는 가상테이블을 생성함
    
    UNION ALL 아래에 오는 SELECT 문으로, 가상테이블에 데이터를 추가해준다고 생각하면 됨.
    
    위의 경우로 생각했을때,
    
    초기값으로 SELECT 1의 결과가 별명으로 지정된 컬럼으로 출력됨
    

->.       | 별명

-------|---------

            |    1

초기값을 통하여 가상테이블을 구성했으면, UNION ALL 하단의 쿼리로 데이터를 반복 추가함.

->.       | 별명

-------|---------

            |    1

-------|---------

            |    2

-------|---------

이러한 반복은 반복 쿼리의 WHERE에 지정된 조건까지 실행을 함.

결국 위의 재귀 쿼리는 별명 컬럼에 4까지를 채우고 종료된다고 생각하면 됨.

위 쿼리에 이어 SELECT * FROM 가상테이블명 쿼리를 날리면

재귀쿼리로 생성된 데이터가 노출되게 됨. 하지만 실제로는 존재하지 않는 가상의 테이블을 불러온거라,

쿼리가 끝난 후 SELECT문으로 조회를 해주지 않으면 데이터만 채우고 다시 메모리에서 사라짐.